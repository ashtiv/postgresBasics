## 3. What is PostgreSQL All About?

PostgreSQL is a powerful and open-source  relational database  management system (RDBMS) that is known for its reliability, scalability, and extensibility. It was first released in 1989 and has since become one of the most popular  RDBMSs  in the world.

PostgreSQL supports a wide range of  programming languages, including C, C++, Java, Python, and Ruby, and provides built-in support for many features that are typically available only through add-ons in other databases, such as  JSON  and  XML  data types, full-text search, and advanced indexing.

PostgreSQL is also highly customizable, with a large number of extensions and plug-ins available to add functionality and improve performance.

## 4. Database Design

Database design is the process of creating a  database schema  that defines the structure and organization of the data stored in a database. A good  database design  can improve performance, reduce redundancy, and make it easier to maintain and update the database in the future.

There are several key concepts and terms that are important to understand when designing a database:

-   Entity: A thing or concept that we want to store data about, such as a person, product, or order.
-   Attribute: A characteristic of an entity, such as the name, age, or price of a product.
-   Primary key: A unique identifier for each entity that is used to distinguish it from other entities in the same table.
-   Foreign key: A reference to a primary key in another table that is used to establish relationships between entities.
-   Relationship: A connection between two entities that is defined by a  foreign key.

## Quiz 1: Database Terminology

Quiz questions to test your knowledge of  database terminology.

## 5. Creating Tables

In PostgreSQL, tables are created using the  `CREATE TABLE`  statement. The basic syntax for creating a table is as follows:

```
CREATE TABLE table_name (
  column1 datatype1 [constraints],
  column2 datatype2 [constraints],
  ...
);

```

Here is an example of creating a simple  `users`  table with two columns:

```
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) NOT NULL
);

```

In this example, we are creating a table called  `users`  with two columns:  `id`  and  `name`. The  `id`  column uses the  `SERIAL`  data type, which automatically generates a unique value for each new row. The  `PRIMARY KEY`  constraint indicates that the  `id`  column is the primary key for the table. The  `name`  column uses the  `VARCHAR`  data type with a length of 50 characters and the  `NOT NULL`  constraint, which means that a value must be provided for this column when inserting a new row.

## 6. Analyzing CREATE TABLE

In PostgreSQL, we can use the  `\d`  command to display information about a table, including its columns and constraints. For example, to display information about the  `users`  table we created in the previous step, we can run the following command:

sql

Copy

```
\d users

```

This will display the following output:

```
                                        Table "public.users"
 Column |         Type          | Collation | Nullable |               Default                
--------+-----------------------+-----------+----------+--------------------------------------
 id     | integer               |           | not null | nextval('users_id_seq'::regclass)
 name   | character varying(50) |           | not null | 
Indexes:
    "users_pkey" PRIMARY KEY, btree (id)

```

This output shows that the  `users`  table has two columns (`id`  and  `name`), with the  `id`  column being the primary key. It also shows that the  `id`  column uses the  `integer`  data type and the  `name`  column uses the  `character varying`  data type with a length of 50 characters.

## 7. Inserting Data Into a Table

In PostgreSQL, data is inserted into a table using the  `INSERT INTO`  statement. The basic syntax for inserting data is as follows:

```
INSERT INTO table_name (column1, column2, ...) VALUES (value1, value2, ...);

```

Here is an example of inserting a new row into the  `users`  table we created earlier:

```
INSERT INTO users (name) VALUES ('Alice');

```

This will insert a new row into the  `users`  table with a value of  `'Alice'`  for the  `name`  column. Since we did not provide a value for the  `id`  column, it will be automatically generated by the  `SERIAL`  data type.

## 8. Retrieving Data with SELECT

In PostgreSQL, data is retrieved from a table using the  `SELECT`  statement. The basic syntax for selecting data is as follows:

```
SELECT column1, column2, ... FROM table_name WHERE condition;

```

Here is an example of selecting all rows from the  `users`  table:

```
SELECT* FROM users;

```

This will retrieve all columns (`*`) from the  `users`  table.

## Coding Exercise 1: Create, Insert, and Select!

Let's practice creating a table, inserting data into it, and retrieving data from it.

1.  Create a new table called  `employees`  with the following columns:

-   `id`  (serial, primary key)
-   `name`  (varchar(50), not null)
-   `age`  (integer, not null)
-   `salary`  (numeric(10,2), not null)

2.  Insert the following data into the  `employees`  table:

-   Name:  Alice, Age: 25, Salary: 50000.00
-   Name:  Bob, Age: 30, Salary: 60000.00
-   Name: Charlie, Age: 35, Salary: 70000.00

3.  Retrieve all columns from the  `employees`  table.

## 9. Calculated Columns

In PostgreSQL, we can create calculated columns by using expressions in the  `SELECT`  statement. These expressions can perform calculations on existing columns or combine multiple columns into a new column.

Here is an example of creating a  calculated column  that calculates the total revenue for each order in an  `orders`  table:

```
SELECT order_id, quantity * price AS total_revenue FROM orders;

```

In this example, we are multiplying the  `quantity`  and  `price`  columns for each row and assigning the result to a new column called  `total_revenue`.

## 10. Calculating Phone Revenue

Let's practice creating a calculated column using a real-world example.

Suppose we have a  `sales`  table that contains information about phone sales, including the number of phones sold and the price per phone. We want to calculate the total revenue for each sale and display it in a new column called  `total`.

Here is an example of how we can do this:

```
SELECT sale_id, phone_price * phone_quantity AS total FROM sales;

```

In this example, we are multiplying the  `phone_price`  and  `phone_quantity`  columns for each row and assigning the result to a new column called  `total`.

## Coding Exercise 2: Using  Calculated Columns

Let's practice creating a calculated column.

Suppose we have a  `products`  table that contains information about products, including the price per unit and the number of units sold. We want to calculate the total revenue for each product and display it in a new column called  `revenue`.

1.  Create a new table called  `products`  with the following columns:

-   `id`  (serial, primary key)
-   `name`  (varchar(50), not null)
-   `price_per_unit`  (numeric(10,2), not null)
-   `units_sold`  (integer, not null)

2.  Insert the following data into the  `products`  table:

-   Name: Product A, Price per unit: 10.00, Units sold: 100
-   Name: Product B, Price per unit: 20.00, Units sold: 200
-   Name: Product C, Price per unit: 30.00, Units sold: 300

3.  Create a calculated column called  `revenue`  that calculates the total revenue for each product.
    
4.  Retrieve all columns from the  `products`  table.
    

## 11. Exercise Solution

Here is a possible solution to  Coding Exercise  2:

```
-- Step 1: Create a new table
CREATE TABLE products (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  price_per_unit NUMERIC(10,2) NOT NULL,
  units_sold INTEGER NOT NULL
);

-- Step 2: Insert data into the table
INSERT INTO products (name, price_per_unit, units_sold) VALUES
('Product A', 10.00, 100),
('Product B', 20.00, 200),
('Product C', 30.00, 300);

-- Step 3: Create a calculated column
SELECT id, name, price_per_unit, units_sold, price_per_unit * units_sold AS revenue FROM products;

-- Step 4: Retrieve all columns from the table
SELECT * FROM products;

```

This solution creates a  `products`  table with four columns (`id`,  `name`,  `price_per_unit`, and  `units_sold`), inserts three rows of data into the table, creates a calculated column called  `revenue`  that multiplies the  `price_per_unit`  and  `units_sold`  columns for each row, and retrieves all columns from the table.

## 12. String Operators and Functions

In PostgreSQL, we can use  string operators  and functions to manipulate strings and perform operations on them. Some common string operators and functions include:

-   `||`:  Concatenation  operator that combines two strings into one.
-   `LENGTH(string)`: Function that returns the length of a string.
-   `SUBSTR(string, start, length)`: Function
